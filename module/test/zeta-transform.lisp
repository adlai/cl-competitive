(eval-when (:compile-toplevel :load-toplevel :execute)
  (load "test-util")
  (load "../zeta-transform.lisp"))

(use-package :test-util)

(with-test (:name zeta-transform)
  (assert (equalp #(1 1 1 1 1 1 1 1)
                  (moebius-subtransform! (zeta-subtransform! (vector 1 1 1 1 1 1 1 1)))))
  (assert (equalp #(1 2 2 4 2 4 4 8)
                  (zeta-subtransform! (vector 1 1 1 1 1 1 1 1))))
  (assert (equalp #(1 1 1 1 1 1 1 1)
                  (moebius-supertransform! (zeta-supertransform! (vector 1 1 1 1 1 1 1 1)))))
  (assert (equalp #(8 4 4 2 4 2 2 1)
                  (zeta-supertransform! (vector 1 1 1 1 1 1 1 1)))))
